query fetchLegacy($address: ID!) {
  legacy(id: $address) {
    id
    unlocksAt
    createdAt
    updatedAt
    owner {
      id
    }
    tokens {
      id
      token
      totalAllocation
      allocations {
        id
      }
    }
  }
}

query tokenAllocations($legacy: ID!, $token: String!) {
  legacy(id: $legacy) {
    owner {
      address
    }
    tokens (where: { token: $token }) {
      id
      totalAllocation
      allocations ( where: { percentage_gt: 0 }, orderBy: createdAt, orderDirection: asc) {
        id
        percentage
        to {
          id
          address
        }
        createdAt
        updatedAt
      }
    }
  }
}
